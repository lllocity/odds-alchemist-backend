# 専門知識: バックエンド実装方針

## スクレイピングのルール (Jsoup)
- **対象サイト**: 現在は「Yahoo!スポナビ競馬」を対象としている。
- **パース方針**: HTMLのクラス名や構造は変更されやすいため、特定のクラス名に過度に依存せず、**「テキストのパターンマッチ（正規表現）」** や **「テーブル列のインデックス」** を組み合わせた柔軟で堅牢な抽出ロジック（`RaceOddsParser.java`）を維持すること。
- **データ抽出要件**: 馬番（数値）、馬名（文字列）、単勝オッズ（数値）、複勝オッズ（下限・上限の数値）を確実に抽出する。

## Google Sheets APIのルール
- **データマッピング**: `OddsSyncService.java` でスプレッドシートに書き込む際、以下の列順序を厳守すること。
  - A列: 取得日時 (形式: `yyyy/MM/dd HH:mm:ss`)
  - B列: 馬番
  - C列: 馬名
  - D列: 単勝オッズ
  - E列: 複勝オッズ（下限）
  - F列: 複勝オッズ（上限）

## アーキテクチャと品質
- クラスの責務を単一にし、肥大化を防ぐ（例: 取得処理、パース処理、保存処理は別クラスに分割する）。
- オッズパース処理などの複雑なロジックに対しては、JUnit 5を用いた単体テストを必ず記述し、想定されるHTMLパターン（正常系・異常系・一部データ欠損）を網羅すること。